
# Телеграм-бот для отслеживания курса биткоина

## Описание

Этот проект представляет собой телеграм-бота, с помощью которого пользователи могут подписаться на оповещения о достижении конкретной стоимости биткоина. Бот позволяет:
- Подписаться на изменение цены биткоина.
- Просмотреть текущую подписку.
- Отменить подписку.

## Функциональные возможности
- **Подписка на курс**: Возможность подписаться на конкретную цену биткоина.
- **Просмотр подписки**: Вывод информации о текущей подписке.
- **Отмена подписки**: Возможность отменить текущую подписку.
- **Уведомления**: Оповещение пользователей, когда цена биткоина достигает желаемого значения.

## Установка

1. Клонируйте репозиторий:

   ```bash
   git clone https://github.com/Esinkevi/TelegramBot.git
   ```

2. Перейдите в директорию проекта:

   ```bash
   cd repository
   ```

3. Установите зависимости через Maven:

   ```bash
   mvn clean install
   ```

4. Настройте файл конфигурации `application.yaml`, указав токен для вашего телеграм-бота и параметры базы данных PostgreSQL:

   ```yaml
   spring:
     datasource:
       url: jdbc:postgresql://localhost:5432/telegram_bot
       username: your-username
       password: your-password
   bot:
     token: your-telegram-bot-token
   ```

5. Создайте базу данных PostgreSQL:

   ```sql
   CREATE DATABASE telegram_bot;
   ```

6. Запустите приложение:

   ```bash
   mvn spring-boot:run
   ```

## Использование

### Основные команды:

1. **Получение текущей цены биткоина**:

   ```bash
   /get_price
   ```

2. **Подписка на уведомления о цене**:

   ```bash
   /subscribe 35000
   ```

3. **Просмотр текущей подписки**:

   ```bash
   /subscription
   ```

4. **Отмена подписки**:

   ```bash
   /unsubscribe
   ```

## Механизм работы

- Бот запрашивает актуальную стоимость биткоина через API биржи Binance каждые 2 минуты.
- Пользователи получают уведомления, когда стоимость биткоина достигает установленного порога.
- Оповещения не отправляются чаще чем раз в 10 минут.

## База данных

Таблица **Subscribers**:

- **UUID** — уникальный идентификатор пользователя.
- **ID** — идентификатор пользователя в Telegram.
- **Цена** — цена, на которую подписан пользователь.

## Технологии

- **Java** 23
- **Spring Boot**
- **Hibernate**
- **PostgreSQL**
- **Telegram Bot API**
- **Binance API**



